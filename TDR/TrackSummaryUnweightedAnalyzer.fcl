// Andrei Gaponenko, 2014

#include "minimalMessageService.fcl"
#include "standardServices.fcl"
#include "standardProducers.fcl"

process_name : TrackSummaryAnalyzer

source: { module_type: RootInput }

services: {
   TFileService: { fileName: "histTrackSumUnweighted.root" }
   message: @local::default_message
   user: {
      GlobalConstantsService: { inputFile : "Mu2eG4/test/globalConstants_01.txt" }
   }
}

physics: {
   producers: {
      TSTSDownstreameMinus: {
         module_type: TrackSummaryTruthRFSelector
	 TrackTruthInput: TSTMDownstreameMinus
	 cutMinCommonFraction: 0.8
      }
   }

   analyzers: {
      genCountLogger: { module_type: GenEventCountReader }

      TrackSummaryDataAnalyzer: {
         module_type: TrackSummaryDataAnalyzer
         trackInput: "TSMDownstreameMinus"
         cuts : @local::cutSetC
      }

      TrackSummaryMCAnalyzer: {
         module_type: TrackSummaryMCAnalyzer
         trackInput: "TSMDownstreameMinus"
         cuts : @local::cutSetC

	 truthMapInput: "TSTSDownstreameMinus"
	 signalSimParticleCollection: "simParticleFilter:signal"
	 eventWeights : []
	 physVolInfoInput: "compressPVDetector"
      }

   }

   p1: [TSTSDownstreameMinus]
   trigger_paths: [p1]

   e1 : [ genCountLogger, TrackSummaryDataAnalyzer, TrackSummaryMCAnalyzer]
   end_paths      : [e1]
}
